# v7.0.2 (Thu Nov 30 2023)

#### üêõ Bug Fix

- IINT-10049: disable Managed Applications step temporarily [#149](https://github.com/JupiterOne/graph-microsoft-365/pull/149) ([@gastonyelmini](https://github.com/gastonyelmini))

#### ‚ö†Ô∏è Pushed to `main`

- Populate CODEOWENRS, baseline package.json and baseline cortex.yaml ([@jablonnc](https://github.com/jablonnc))

#### Authors: 2

- Gaston Yelmini ([@gastonyelmini](https://github.com/gastonyelmini))
- Noah Jablonski ([@jablonnc](https://github.com/jablonnc))

---

# v7.0.1 (Fri Aug 18 2023)

#### üêõ Bug Fix

- fix: export ingestionConfig [#147](https://github.com/JupiterOne/graph-microsoft-365/pull/147) (ronald.arias@contractor.jupiterone.com)

#### Authors: 1

- Ronald Arias ([@RonaldEAM](https://github.com/RonaldEAM))

---

# v7.0.0 (Fri Aug 18 2023)

#### üí• Breaking Change

- INT-8955 - upgrade sdk packages and node 18 [#146](https://github.com/JupiterOne/graph-microsoft-365/pull/146) (ronald.arias@contractor.jupiterone.com)

#### üêõ Bug Fix

- Int 9015 correction of yml [#144](https://github.com/JupiterOne/graph-microsoft-365/pull/144) (gonzaloavalosribas@Gonzalos-MacBook-Pro.local)

#### Authors: 2

- Gonzalo Avalos Ribas ([@Gonzalo-Avalos-Ribas](https://github.com/Gonzalo-Avalos-Ribas))
- Ronald Arias ([@RonaldEAM](https://github.com/RonaldEAM))

---

# v6.7.1 (Tue Aug 08 2023)

#### üêõ Bug Fix

- Int 9015 step correction [#143](https://github.com/JupiterOne/graph-microsoft-365/pull/143) (gonzaloavalosribas@Gonzalos-MacBook-Pro.local)

#### Authors: 1

- Gonzalo Avalos Ribas ([@Gonzalo-Avalos-Ribas](https://github.com/Gonzalo-Avalos-Ribas))

---

# v6.7.0 (Tue Aug 08 2023)

#### üöÄ Enhancement

- Add to the gitignore
  [#140](https://github.com/JupiterOne/graph-microsoft-365/pull/140)
  (gonzaloavalosribas@Gonzalos-MacBook-Pro.local)
- Add 3 new date-like properties from raw data
  [#133](https://github.com/JupiterOne/graph-microsoft-365/pull/133)
  ([@SeaBlooms](https://github.com/SeaBlooms))

#### üêõ Bug Fix

- Added postversion script
  [#142](https://github.com/JupiterOne/graph-microsoft-365/pull/142)
  (gonzaloavalosribas@Gonzalos-MacBook-Pro.local)
- Corrected fetch-depth
  [#141](https://github.com/JupiterOne/graph-microsoft-365/pull/141)
  (gonzaloavalosribas@Gonzalos-MacBook-Pro.local)
- Fixed beta endpoint
  [#139](https://github.com/JupiterOne/graph-microsoft-365/pull/139)
  (gonzaloavalosribas@Gonzalos-MacBook-Pro.local)
- DEVICE-107 - v6.6.2
  [#138](https://github.com/JupiterOne/graph-microsoft-365/pull/138)
  ([@mknoedel](https://github.com/mknoedel))
- DEVICE-107 - default name on Device entities to a generated name if not
  provided [#137](https://github.com/JupiterOne/graph-microsoft-365/pull/137)
  ([@mknoedel](https://github.com/mknoedel))
- V6.6.1 [#136](https://github.com/JupiterOne/graph-microsoft-365/pull/136)
  ([@mknoedel](https://github.com/mknoedel))
- DEVICE-117 - Add lastSeenOn to HostAgents
  [#135](https://github.com/JupiterOne/graph-microsoft-365/pull/135)
  ([@mknoedel](https://github.com/mknoedel))
- Release v6.6.0
  [#134](https://github.com/JupiterOne/graph-microsoft-365/pull/134)
  ([@i5o](https://github.com/i5o))
- DEVICE-23 - Add `lastSeenOn` to MS365 Device entities
  [#132](https://github.com/JupiterOne/graph-microsoft-365/pull/132)
  ([@austinkelleher](https://github.com/austinkelleher))
- Fixed sentry errors
  [#131](https://github.com/JupiterOne/graph-microsoft-365/pull/131)
  (gonzaloavalosribas@Gonzalos-MacBook-Pro.local)
- v6.4.7 [#129](https://github.com/JupiterOne/graph-microsoft-365/pull/129)
  ([@zemberdotnet](https://github.com/zemberdotnet))
- add deviceCategoryDisplayName
  [#128](https://github.com/JupiterOne/graph-microsoft-365/pull/128)
  ([@TuffMasterMind](https://github.com/TuffMasterMind))
- Release 6.4.6
  [#127](https://github.com/JupiterOne/graph-microsoft-365/pull/127)
  ([@adam-in-ict](https://github.com/adam-in-ict))
- INT-6523 - Updating user converter to match Azure data for users
  [#126](https://github.com/JupiterOne/graph-microsoft-365/pull/126)
  ([@adam-in-ict](https://github.com/adam-in-ict))
- int 6317 add better error log
  [#123](https://github.com/JupiterOne/graph-microsoft-365/pull/123)
  ([@zemberdotnet](https://github.com/zemberdotnet))
- release 6.4.4
  [#122](https://github.com/JupiterOne/graph-microsoft-365/pull/122)
  ([@zemberdotnet](https://github.com/zemberdotnet))
- Add Warn Message For Missing Configuration Entity
  [#121](https://github.com/JupiterOne/graph-microsoft-365/pull/121)
  ([@zemberdotnet](https://github.com/zemberdotnet))
- Doc 154 - Updates
  [#120](https://github.com/JupiterOne/graph-microsoft-365/pull/120)
  ([@janettelynch](https://github.com/janettelynch)
  [@zemberdotnet](https://github.com/zemberdotnet))
- v6.4.3 [#119](https://github.com/JupiterOne/graph-microsoft-365/pull/119)
  ([@mdaum](https://github.com/mdaum))
- Release 6.4.2
  [#118](https://github.com/JupiterOne/graph-microsoft-365/pull/118)
  ([@zemberdotnet](https://github.com/zemberdotnet))
- revert beta testing changes
  [#117](https://github.com/JupiterOne/graph-microsoft-365/pull/117)
  ([@zemberdotnet](https://github.com/zemberdotnet))
- release 6.4.2 beta.2
  [#116](https://github.com/JupiterOne/graph-microsoft-365/pull/116)
  ([@zemberdotnet](https://github.com/zemberdotnet))
- code reorganization and cleanup
  [#115](https://github.com/JupiterOne/graph-microsoft-365/pull/115)
  ([@zemberdotnet](https://github.com/zemberdotnet))
- Addtl. Performance increases and QoL changes
  [#114](https://github.com/JupiterOne/graph-microsoft-365/pull/114)
  ([@zemberdotnet](https://github.com/zemberdotnet))
- Release 6.4.2 beta.1
  [#113](https://github.com/JupiterOne/graph-microsoft-365/pull/113)
  ([@zemberdotnet](https://github.com/zemberdotnet))
- int 5328 increase page size
  [#112](https://github.com/JupiterOne/graph-microsoft-365/pull/112)
  ([@zemberdotnet](https://github.com/zemberdotnet))
- check for duplicate keys in user uses device
  [#111](https://github.com/JupiterOne/graph-microsoft-365/pull/111)
  ([@zemberdotnet](https://github.com/zemberdotnet))
- Release 6.4.0
  [#110](https://github.com/JupiterOne/graph-microsoft-365/pull/110)
  ([@zemberdotnet](https://github.com/zemberdotnet))
- feat: add user uses relationship
  [#109](https://github.com/JupiterOne/graph-microsoft-365/pull/109)
  ([@zemberdotnet](https://github.com/zemberdotnet))
- Release 6.3.3
  [#108](https://github.com/JupiterOne/graph-microsoft-365/pull/108)
  ([@zemberdotnet](https://github.com/zemberdotnet))
- add raw data enablement option
  [#107](https://github.com/JupiterOne/graph-microsoft-365/pull/107)
  ([@zemberdotnet](https://github.com/zemberdotnet))
- chore: spelling error
  [#106](https://github.com/JupiterOne/graph-microsoft-365/pull/106)
  ([@zemberdotnet](https://github.com/zemberdotnet))
- Release 6.3.2
  [#105](https://github.com/JupiterOne/graph-microsoft-365/pull/105)
  ([@zemberdotnet](https://github.com/zemberdotnet))
- INT-4517 Handle Unknown case for jailbroken property
  [#104](https://github.com/JupiterOne/graph-microsoft-365/pull/104)
  ([@zemberdotnet](https://github.com/zemberdotnet))
- Release 6.3.1
  [#103](https://github.com/JupiterOne/graph-microsoft-365/pull/103)
  ([@zemberdotnet](https://github.com/zemberdotnet))
- Increase client timeout to 30 seconds.
  [#102](https://github.com/JupiterOne/graph-microsoft-365/pull/102)
  ([@zemberdotnet](https://github.com/zemberdotnet))
- Release 6.3.0
  [#101](https://github.com/JupiterOne/graph-microsoft-365/pull/101)
  ([@zemberdotnet](https://github.com/zemberdotnet))
- Normalize macAddress property
  [#100](https://github.com/JupiterOne/graph-microsoft-365/pull/100)
  ([@zemberdotnet](https://github.com/zemberdotnet)
  [@austinkelleher](https://github.com/austinkelleher))
- Various small improvements
  [#99](https://github.com/JupiterOne/graph-microsoft-365/pull/99)
  ([@zemberdotnet](https://github.com/zemberdotnet)
  [@austinkelleher](https://github.com/austinkelleher))
- Release 6.2.0 [#98](https://github.com/JupiterOne/graph-microsoft-365/pull/98)
  ([@zemberdotnet](https://github.com/zemberdotnet))
- Properly capture hostname, macAddress, and ipAddress
  [#97](https://github.com/JupiterOne/graph-microsoft-365/pull/97)
  ([@erkangz](https://github.com/erkangz)
  [@zemberdotnet](https://github.com/zemberdotnet))
- release 6.1.4 [#96](https://github.com/JupiterOne/graph-microsoft-365/pull/96)
  ([@zemberdotnet](https://github.com/zemberdotnet))
- Update SDK to v8.14, test fixes
  [#95](https://github.com/JupiterOne/graph-microsoft-365/pull/95)
  ([@zemberdotnet](https://github.com/zemberdotnet))
- image links in MD, new screenshots
  [#59](https://github.com/JupiterOne/graph-microsoft-365/pull/59)
  ([@ninetreats](https://github.com/ninetreats)
  [@VDubber](https://github.com/VDubber))
- Release 6.1.3 [#93](https://github.com/JupiterOne/graph-microsoft-365/pull/93)
  ([@zemberdotnet](https://github.com/zemberdotnet))
- Change errMessage logging
  [#92](https://github.com/JupiterOne/graph-microsoft-365/pull/92)
  ([@zemberdotnet](https://github.com/zemberdotnet))
- Release 6.1.2 [#91](https://github.com/JupiterOne/graph-microsoft-365/pull/91)
  ([@zemberdotnet](https://github.com/zemberdotnet))
- [INT-3394] Fix Fetch Error
  [#90](https://github.com/JupiterOne/graph-microsoft-365/pull/90)
  ([@zemberdotnet](https://github.com/zemberdotnet))
- Release 6.1.1 [#89](https://github.com/JupiterOne/graph-microsoft-365/pull/89)
  ([@zemberdotnet](https://github.com/zemberdotnet))
- INT-3469 Add Questions, Workflows, Misc QoL updates
  [#86](https://github.com/JupiterOne/graph-microsoft-365/pull/86)
  ([@zemberdotnet](https://github.com/zemberdotnet))
- Merged via j1-codeowners-automation-v1.0.0
  [#85](https://github.com/JupiterOne/graph-microsoft-365/pull/85)
  ([@erichs](https://github.com/erichs))
- Require security team review for CODEOWNERS
  [#85](https://github.com/JupiterOne/graph-microsoft-365/pull/85)
  (security@jupiterone.com)
- v6.1.0 [#84](https://github.com/JupiterOne/graph-microsoft-365/pull/84)
  ([@zemberdotnet](https://github.com/zemberdotnet))
- Updating sdk. Adding `deviceId` to conform to data-model.
  [#83](https://github.com/JupiterOne/graph-microsoft-365/pull/83)
  ([@zemberdotnet](https://github.com/zemberdotnet))
- v6.0.1 [#81](https://github.com/JupiterOne/graph-microsoft-365/pull/81)
  ([@VDubber](https://github.com/VDubber))
- Add version to detected application entity
  [#80](https://github.com/JupiterOne/graph-microsoft-365/pull/80)
  ([@VDubber](https://github.com/VDubber))
- INT-2833 - Update `_type` value of `smartphone` entity in case
  [#78](https://github.com/JupiterOne/graph-microsoft-365/pull/78)
  ([@austinkelleher](https://github.com/austinkelleher))
- Add CODEOWNERS
  [#77](https://github.com/JupiterOne/graph-microsoft-365/pull/77)
  (security@jupiterone.com [@erichs](https://github.com/erichs))
- v5.0.0 [#76](https://github.com/JupiterOne/graph-microsoft-365/pull/76)
  ([@zemberdotnet](https://github.com/zemberdotnet))
- Changes required to migrate to sdk v8.x.x
  [#75](https://github.com/JupiterOne/graph-microsoft-365/pull/75)
  ([@zemberdotnet](https://github.com/zemberdotnet))
- Running yarn format
  [#74](https://github.com/JupiterOne/graph-microsoft-365/pull/74)
  ([@zemberdotnet](https://github.com/zemberdotnet))
- v4.0.4 [#73](https://github.com/JupiterOne/graph-microsoft-365/pull/73)
  ([@zemberdotnet](https://github.com/zemberdotnet))
- Minor refactors and additional debug logging
  [#72](https://github.com/JupiterOne/graph-microsoft-365/pull/72)
  ([@austinkelleher](https://github.com/austinkelleher))
- v4.0.3 [#71](https://github.com/JupiterOne/graph-microsoft-365/pull/71)
  ([@zemberdotnet](https://github.com/zemberdotnet))
- Removing raw data from compliancePoliciesAndFindings
  [#70](https://github.com/JupiterOne/graph-microsoft-365/pull/70)
  ([@zemberdotnet](https://github.com/zemberdotnet)
  [@ceelias](https://github.com/ceelias))
- v4.0.2 [#66](https://github.com/JupiterOne/graph-microsoft-365/pull/66)
  ([@zemberdotnet](https://github.com/zemberdotnet))
- [INT-2841] duplicate key error
  [#65](https://github.com/JupiterOne/graph-microsoft-365/pull/65)
  ([@zemberdotnet](https://github.com/zemberdotnet))
- Clarify development and integration documentation
  [#58](https://github.com/JupiterOne/graph-microsoft-365/pull/58)
  ([@aiwilliams](https://github.com/aiwilliams))
- Prepare for new environments
  [#57](https://github.com/JupiterOne/graph-microsoft-365/pull/57)
  ([@aiwilliams](https://github.com/aiwilliams))
- Upgrade SDK packages, remove unused packages.
  [#56](https://github.com/JupiterOne/graph-microsoft-365/pull/56)
  ([@austinkelleher](https://github.com/austinkelleher))
- Add steps spec
  [#51](https://github.com/JupiterOne/graph-microsoft-365/pull/51)
  ([@ndowmon](https://github.com/ndowmon))
- Deduplicate compliance policy finding entities
  [#50](https://github.com/JupiterOne/graph-microsoft-365/pull/50)
  ([@ndowmon](https://github.com/ndowmon))
- Changelog for 3.0.9
  [#48](https://github.com/JupiterOne/graph-microsoft-365/pull/48)
  ([@ndowmon](https://github.com/ndowmon))
- Duplicate compliance keys
  [#44](https://github.com/JupiterOne/graph-microsoft-365/pull/44)
  ([@ndowmon](https://github.com/ndowmon))
- Fix duplicate keys in intune_managed_application
  [#43](https://github.com/JupiterOne/graph-microsoft-365/pull/43)
  ([@ndowmon](https://github.com/ndowmon))
- Remove raw data from user and group entities
  [#41](https://github.com/JupiterOne/graph-microsoft-365/pull/41)
  ([@ndowmon](https://github.com/ndowmon))
- Deduplicate managed app to detected app relationships
  [#40](https://github.com/JupiterOne/graph-microsoft-365/pull/40)
  ([@ndowmon](https://github.com/ndowmon))
- Remove device raw data
  [#38](https://github.com/JupiterOne/graph-microsoft-365/pull/38)
  ([@ndowmon](https://github.com/ndowmon))
- Decouple device host agent steps
  [#37](https://github.com/JupiterOne/graph-microsoft-365/pull/37)
  ([@ndowmon](https://github.com/ndowmon))
- Release 3.0.4 [#36](https://github.com/JupiterOne/graph-microsoft-365/pull/36)
  ([@ndowmon](https://github.com/ndowmon))
- Remove promise.all; skip duplicate hostAssignedDeviceKey
  [#35](https://github.com/JupiterOne/graph-microsoft-365/pull/35)
  ([@ndowmon](https://github.com/ndowmon))
- Skip duplicate keys on managed app relationships
  [#33](https://github.com/JupiterOne/graph-microsoft-365/pull/33)
  ([@ndowmon](https://github.com/ndowmon))
- Remove windows macos from build workflow
  [#32](https://github.com/JupiterOne/graph-microsoft-365/pull/32)
  ([@ndowmon](https://github.com/ndowmon))
- Release 3.0.1 [#31](https://github.com/JupiterOne/graph-microsoft-365/pull/31)
  ([@ndowmon](https://github.com/ndowmon))
- Stop sending callback errors to GraphClient.handleApiErrors(err)
  [#25](https://github.com/JupiterOne/graph-microsoft-365/pull/25)
  ([@ndowmon](https://github.com/ndowmon))
- Fix duplicate key errors
  [#24](https://github.com/JupiterOne/graph-microsoft-365/pull/24)
  ([@ndowmon](https://github.com/ndowmon))
- Add some Intune development instructions
  [#23](https://github.com/JupiterOne/graph-microsoft-365/pull/23)
  ([@mknoedel](https://github.com/mknoedel))
- v3.0.0 [#22](https://github.com/JupiterOne/graph-microsoft-365/pull/22)
  ([@mknoedel](https://github.com/mknoedel))
- AB#4248 - Make `Installed` relationships with version information for
  detectedApplications
  [#21](https://github.com/JupiterOne/graph-microsoft-365/pull/21)
  ([@mknoedel](https://github.com/mknoedel))
- AB#4284 & AB#4287 - Get intune account nunber and config status & only ingest
  Intune data if it is configured
  [#19](https://github.com/JupiterOne/graph-microsoft-365/pull/19)
  ([@mknoedel](https://github.com/mknoedel))
- AB#4255 Add more specific `Policy` classes to DeviceConfig and
  CompliancePolicy entities
  [#18](https://github.com/JupiterOne/graph-microsoft-365/pull/18)
  ([@mknoedel](https://github.com/mknoedel))
- AB#4220 - Create Intune HostAgent
  [#17](https://github.com/JupiterOne/graph-microsoft-365/pull/17)
  ([@mknoedel](https://github.com/mknoedel))
- AB#4218 - Make device type more specific
  [#16](https://github.com/JupiterOne/graph-microsoft-365/pull/16)
  ([@mknoedel](https://github.com/mknoedel))
- AB#4217 & AB#4217 - Ingest device compliance policies and add function keys to
  policy and config entities
  [#15](https://github.com/JupiterOne/graph-microsoft-365/pull/15)
  ([@mknoedel](https://github.com/mknoedel))
- Add `compliant` to devices to match other endpoint management data structures
  [#14](https://github.com/JupiterOne/graph-microsoft-365/pull/14)
  ([@mknoedel](https://github.com/mknoedel))
- Make devices hosts as well
  [#13](https://github.com/JupiterOne/graph-microsoft-365/pull/13)
  ([@mknoedel](https://github.com/mknoedel))
- AB#3666 Ingest applications
  [#12](https://github.com/JupiterOne/graph-microsoft-365/pull/12)
  ([@mknoedel](https://github.com/mknoedel))
- Small refactor based on PR review on PR #7
  [#11](https://github.com/JupiterOne/graph-microsoft-365/pull/11)
  ([@mknoedel](https://github.com/mknoedel))
- AB#3924 - Ingest device configurations and noncompliance findings
  [#10](https://github.com/JupiterOne/graph-microsoft-365/pull/10)
  ([@mknoedel](https://github.com/mknoedel))
- AB#3663 - Ingest managed devices
  [#9](https://github.com/JupiterOne/graph-microsoft-365/pull/9)
  ([@mknoedel](https://github.com/mknoedel))
- Fix requirements, a couple consistency changes
  [#8](https://github.com/JupiterOne/graph-microsoft-365/pull/8)
  ([@aiwilliams](https://github.com/aiwilliams))
- AB#3251 Beta release
  [#6](https://github.com/JupiterOne/graph-microsoft-365/pull/6)
  ([@mknoedel](https://github.com/mknoedel))
- AB#3240 - Update documentation
  [#4](https://github.com/JupiterOne/graph-microsoft-365/pull/4)
  ([@mknoedel](https://github.com/mknoedel))
- AB#2953 use new oAuth values / initial release
  [#3](https://github.com/JupiterOne/graph-microsoft-365/pull/3)
  ([@mknoedel](https://github.com/mknoedel))
- Initial release [#2](https://github.com/JupiterOne/graph-microsoft-365/pull/2)
  ([@aiwilliams](https://github.com/aiwilliams)
  [@mknoedel](https://github.com/mknoedel))

#### ‚ö†Ô∏è Pushed to `main`

- Initial commit ([@aiwilliams](https://github.com/aiwilliams))

#### üî© Dependency Updates

- Bump url-parse from 1.5.3 to 1.5.10
  [#64](https://github.com/JupiterOne/graph-microsoft-365/pull/64)
  ([@dependabot[bot]](https://github.com/dependabot[bot]))
- Bump node-fetch from 2.6.5 to 2.6.7
  [#67](https://github.com/JupiterOne/graph-microsoft-365/pull/67)
  ([@dependabot[bot]](https://github.com/dependabot[bot]))
- Bump simple-get from 3.1.0 to 3.1.1
  [#68](https://github.com/JupiterOne/graph-microsoft-365/pull/68)
  ([@dependabot[bot]](https://github.com/dependabot[bot]))
- Bump minimist from 1.2.5 to 1.2.6
  [#79](https://github.com/JupiterOne/graph-microsoft-365/pull/79)
  ([@dependabot[bot]](https://github.com/dependabot[bot]))
- Bump follow-redirects from 1.14.4 to 1.15.0
  [#87](https://github.com/JupiterOne/graph-microsoft-365/pull/87)
  ([@dependabot[bot]](https://github.com/dependabot[bot]))
- Bump moment from 2.29.1 to 2.29.3
  [#88](https://github.com/JupiterOne/graph-microsoft-365/pull/88)
  ([@dependabot[bot]](https://github.com/dependabot[bot]))
- Bump lodash from 4.17.20 to 4.17.21
  [#26](https://github.com/JupiterOne/graph-microsoft-365/pull/26)
  ([@dependabot[bot]](https://github.com/dependabot[bot])
  [@ndowmon](https://github.com/ndowmon))
- Bump glob-parent from 5.1.1 to 5.1.2
  [#27](https://github.com/JupiterOne/graph-microsoft-365/pull/27)
  ([@dependabot[bot]](https://github.com/dependabot[bot])
  [@ndowmon](https://github.com/ndowmon))
- Bump hosted-git-info from 2.8.8 to 2.8.9
  [#29](https://github.com/JupiterOne/graph-microsoft-365/pull/29)
  ([@dependabot[bot]](https://github.com/dependabot[bot])
  [@ndowmon](https://github.com/ndowmon))
- Bump url-parse from 1.4.7 to 1.5.3
  [#42](https://github.com/JupiterOne/graph-microsoft-365/pull/42)
  ([@dependabot[bot]](https://github.com/dependabot[bot])
  [@ndowmon](https://github.com/ndowmon))
- Bump path-parse from 1.0.6 to 1.0.7
  [#49](https://github.com/JupiterOne/graph-microsoft-365/pull/49)
  ([@dependabot[bot]](https://github.com/dependabot[bot])
  [@ndowmon](https://github.com/ndowmon))
- Bump axios from 0.21.1 to 0.21.4
  [#52](https://github.com/JupiterOne/graph-microsoft-365/pull/52)
  ([@dependabot[bot]](https://github.com/dependabot[bot])
  [@ndowmon](https://github.com/ndowmon))
- Bump ws from 7.4.2 to 7.5.5
  [#53](https://github.com/JupiterOne/graph-microsoft-365/pull/53)
  ([@dependabot[bot]](https://github.com/dependabot[bot]))

#### Authors: 19

- [@dependabot[bot]](https://github.com/dependabot[bot])
- [@SeaBlooms](https://github.com/SeaBlooms)
- Adam Pierson ([@adam-in-ict](https://github.com/adam-in-ict))
- Adam Williams ([@aiwilliams](https://github.com/aiwilliams))
- Austin Kelleher ([@austinkelleher](https://github.com/austinkelleher))
- Chris Elias ([@ceelias](https://github.com/ceelias))
- Erich Smith ([@erichs](https://github.com/erichs))
- Erkang Zheng ([@erkangz](https://github.com/erkangz))
- Gonzalo Avalos Ribas
  ([@Gonzalo-Avalos-Ribas](https://github.com/Gonzalo-Avalos-Ribas))
- Ignacio Rodr√≠guez ([@i5o](https://github.com/i5o))
- J1 CODEOWNERS Automation v1.0.0 (security@jupiterone.com)
- Janette Lynch ([@janettelynch](https://github.com/janettelynch))
- Jeffrey Lee ([@TuffMasterMind](https://github.com/TuffMasterMind))
- Matthew Zember ([@zemberdotnet](https://github.com/zemberdotnet))
- Maxwell Daum ([@mdaum](https://github.com/mdaum))
- Michael Knoedel ([@mknoedel](https://github.com/mknoedel))
- Nick Dowmon ([@ndowmon](https://github.com/ndowmon))
- Sam Andrus ([@ninetreats](https://github.com/ninetreats))
- Samuel Poulton ([@VDubber](https://github.com/VDubber))

---

# Changelog

All notable changes to this project will be documented in this file.

The format is based on [Keep a Changelog](https://keepachangelog.com/en/1.0.0/),
and this project adheres to
[Semantic Versioning](https://semver.org/spec/v2.0.0.html).

## Unreleased

## 6.6.2 - 2023-07-23

### Changed

- `name` on Device entities to default to a generated name if a `deviceName` is
  not provided.

## 6.6.1 - 2023-06-16

### Added

- `lastSeenOn` to Device entities.

## 6.6.0 - 2023-06-06

### Added

- Device entities now have the following new properties:

  | Property             | Type   |
  | -------------------- | ------ |
  | `enrolledDateTime`   | `date` |
  | `lastSyncDateTime`   | `date` |
  | `lastUpdateDateTime` | `date` |

## 6.5.0 - 2023-05-17

### Added

- Device entities now have the following new properties:

  | Property     | Type     |
  | ------------ | -------- |
  | `lastSeenOn` | `number` |

## 6.4.7 - 2023-01-23

### Changed

- Added `deviceCategoryDisplayName` to managed device entities.

## 6.4.6 - 2023-01-18

### Changed

- Added active, accountEnabled, and userType to user entity.

## 6.4.5 - 2022-11-30

### Changed

- Improved error messaging when `validateInvocation` fails

## 6.4.4 - 2022-10-13

### Changed

- Added warn log in Device Configuration step

## 6.4.3 - 2022-09-28

### Changed

- update sdk

## 6.4.2 - 2022-09-15

### Changed

- refactored existing `activeDirectory` steps
- Set page size to `999` for managed apps, users, groups, and group members.

## 6.4.1 - 2022-08-23

### Fixed

- Check for duplicate `user_uses_{device}` relationships before adding them.

## 6.4.0 - 2022-08-23

### Added

- Added `azure_user_uses_{device_type}` relationship

## 6.3.3 - 2022-08-22

### Added

- added option to enable raw data for managed devices

## 6.3.2 - 2022-07-12

### Fixed

- Integration no longer sets `jailBroken` to `true` when response from API is
  `"jailBroken": "Unknown"`. It is now set to undefined.

## 6.3.1 - 2022-06-28

### Changed

- Increased client timeout to 30s

## 6.3.0 - 2022-06-27

### Changed

- `macAddress` properties on managed devices are now normalized to a
  `aa:bb:cc:11:22:33` format

## 6.2.1 - 2022-06-25

### Changed

- Add default timeout to MS365 requests
- Remove unnecessary step dependency
- Remove use of async `jobState.hasKey`

## 6.2.0 - 2022-06-22

### Added

- `macAddress`, `ipAddress`, `hostname`, and `ethernetMacAddress` properties
  added to managed device entities ("Host", "Device").

## 6.1.4 - 2022-06-14

### Changed

- Updated SDK Dependency to `8.14.0`
- Added `graph:dependencies` command

## 6.1.3 - 2022-05-20

### Changed

- Updated error message logging for client

## 6.1.2 - 2022-05-19

### Changed

- Updated `APIClient` retry logic to include additional `statusCode`s. These
  changes go towards reducing the impact of `FetchErrors` and other retryable
  API responses that previously would have been thrown as
  `IntegrationProviderAPIError`

## 6.1.1 - 2022-05-05

### Added

- `code-ql` workflow
- `questions` workflow
- managed-questions

## 6.1.0 - 2022-04-11

### Changed

- Updated `@jupiterone/integration-sdk-*` to `8.10.1`.

### Added

- Added `deviceId` property to `Device` entities to conform to
  `@jupiterone/data-model`. The property is set to `null`.

## 6.0.1 - 2022-03-31

### Changed

- Added `sizeInByte` and `version` to the managed application entity.

## 6.0.0 - 2022-03-21

### Changed

- **BREAKING** - Update `_type` of `smartphone` entity to `user_endpoint` when
  the device has a `deviceType` with value `windowsRT`

- Update integration SDK packages to v8.6.4

## 5.0.0 - 2022-03-21

### Changed

- SDK version changed to `v8.6.3`
- Changed all `_class`es to `[]string` from `string`
- Converters now use explicit `_key`s instead of inheriting from `id`
- A single test in `src/steps/active-directory/__tests__/index.test.ts` now uses
  `matchRequestBy: { order: false }`

## 4.0.4 - 2022-03-15

### Changed

- Minor refactors and additional debug logging

## 4.0.3 - 2022-03-14

### Fixed

- Removed `raw_data` from Compliance Policy Entity

## 4.0.2 - 2022-03-11

### Fixed

- Removed `raw_data` from Detected Application Entity
- Added duplicate key check in `detected-applications` step

## 4.0.1 - 2021-10-30

- Add a few development conveniences

## 4.0.0 - 2021-10-27

### Changed

- Upgrade `@jupiterone/integration-sdk-*` packages
- Removed unused developer dependencies

## 3.0.10 - 2021-08-11

### Fixed

- Deduplicate `intune_noncompliance_finding` entities

## 3.0.9 - 2021-08-11

### Changed

- Removed relationships between `intune_managed_application` and
  `intune_detected_application` entities.

### Fixed

- Fixed duplicate key errors with `intune_managed_application` entities
- Deduplicate `intune_host_agent_assigned_compliance_policy` relationships
- Deduplicate `intune_noncompliance_finding` entities

## 3.0.8 - 2021-08-06

### Changed

- Removed raw data from `user` and `group` entities to fix lambda timeout.

## 3.0.7 - 2021-07-12

### Fixed

- Deduplicate `intune_managed_app_manages_intune_detected_app` relationships

## 3.0.6 - 2021-07-10

### Changed

- Removed raw data from `device` entities to fix lambda timeout.
- Un-decoupled `device` step and `host-agent` step.

## 3.0.5 - 2021-07-08

### Changed

- Decouple `device` step and `host-agent` step.

## 3.0.4 - 2021-07-07

### Changed

- Remove promise.all in device step.
- Explicitly look for duplicate keys in device finding step. Log on encounters.

## 3.0.2 - 2021-07-06

### Changed

- Explicitly look for duplicate keys in managed application step. Log on
  encounters.

## 3.0.1 - 2021-06-30

### Fixed

- Used unique `deviceStatus.id` for `_key` property of host agent ->
  configuration relationships.
- Used unique `deviceStatus.id` for `_key` property of device -> managed
  application relationships.
- Reconfigured where the callback function is called in the client such that
  callback errors (such as `DUPLICATE_KEY_ERROR`) are not sent to the
  `handleApiError` method.

## 3.0.0 - 2020-03-18

### Updated

- `jupiterone.md` and `development.md` documentation to include descriptions for
  scopes.

### Changed

- the `intune_managed_device` to `intune_detected_application` relationship
  class from **HAS** to **INSTALLED**
- `intune_managed_device` to `intune_detected_application` relationships to
  include `installedVersion`, and `detectionId` properties and allow multiple
  relationships to the same application based on the `detectionId`
- the `_key` property on `intune_detected_application` from the device id to
  `IntuneDetected:` plus the application name
- the `_key` property on `intune_managed_application` from the device id to
  `IntuneManaged:` plus the application name

### Added

- New relationships

  - Intune
    - `intune_managed_application` **MANAGES** `intune_detected_application`

- `mobileDeviceManagementAuthority`, `intuneSubscriptionState`, and
  `intuneAccountId` properties to `intune_managed_device` entities

### Changed

- Only ingest Intune data if the Microsoft 365 account has Intune configured
- A dummy `Account` entity will no longer be created when there is an error
  fetching organization data. Instead, the integration will fail and a message
  will be sent to the user in the job log.

### Added

- A class of `CompliancePolicy` to `intune_compliance_policy` and
  `intune_device_configuration` entities
- `category` property to `intune_compliance_policy` and
  `intune_device_configuration` entities.

- Support for ingesting the following **new** resources

- New relationships

  - Intune
    - `intune_host_agent` **ASSIGNED** `intune_compliance_policy`
    - `intune_host_agent` **ASSIGNED** `intune_device_configuration`
    - `intune_host_agent` **MANAGES** `computer`
    - `intune_host_agent` **MANAGES** `desktop`
    - `intune_host_agent` **MANAGES** `laptop`
    - `intune_host_agent` **MANAGES** `server`
    - `intune_host_agent` **MANAGES** `smartphone`
    - `intune_host_agent` **MANAGES** `user_endpoint`
    - `intune_host_agent` **MANAGES** `workstation`

- New entities

  - Intune
    - `intune_host_agent`

### Removed

- Removed relationships

  - Intune
    - `computer` **ASSIGNED** `intune_compliance_policy`
    - `computer` **USES** `intune_device_configuration`
    - `desktop` **ASSIGNED** `intune_compliance_policy`
    - `desktop` **USES** `intune_device_configuration`
    - `laptop` **ASSIGNED** `intune_compliance_policy`
    - `laptop` **USES** `intune_device_configuration`
    - `server` **ASSIGNED** `intune_compliance_policy`
    - `server` **USES** `intune_device_configuration`
    - `smartphone` **ASSIGNED** `intune_compliance_policy`
    - `smartphone` **USES** `intune_device_configuration`
    - `user_endpoint` **ASSIGNED** `intune_compliance_policy`
    - `user_endpoint` **USES** `intune_device_configuration`
    - `workstation` **ASSIGNED** `intune_compliance_policy`
    - `workstation` **USES** `intune_device_configuration`

### Updated

- README.md to include CI build badges

### Changed

- The type of `intune_managed_device` was changed to more accurately describe
  the hardware of the device. The new device types are `user_endpoint`,
  `workstation`, `laptop`, `desktop`, `computer`, `smartphone`, `tablet`
- The class of `intune_managed_device` only includes `Device` if the device is
  not a virtual machine

### Added

- `deviceType` and `function` properties to `intune_managed_device` entities
- `function` property to `intune_device_configuration` entities

- Support for ingesting the following **new** resources

- New relationships

  - Intune
    - `intune_managed_device` **ASSIGNED** `intune_compliance_policy`
    - `intune_compliance_policy` **IDENTIFIED** `intune_noncompliance_finding`

- New entities

  - Intune
    - `intune_compliance_policy`

## 2.1.1 - 2020-03-05

### Added

- `compliance` key to `intune_managed_device` entities

## 2.1.0 - 2020-03-05

### Changed

- The class of `intune_managed_device` entities from `Device` to
  `[Device, Host]`

## 2.0.0 - 2020-03-01

### Added

- Support for ingesting the following **new** resources

- New relationships

  - Intune
    - `azure_user` **HAS** `intune_managed_device`
    - `intune_managed_device` **USES** `intune_device_configuration`
    - `intune_device_configuration` **IDENTIFIED**
      `intune_noncompliance_finding`
    - `intune_managed_device` **HAS** `intune_noncompliance_finding`
    - `intune_managed_device` **HAS** `intune_detected_application`
    - `intune_managed_device` **ASSIGNED** `intune_managed_application`

- New entities

  - Intune
    - `intune_managed_device`
    - `intune_device_configuration`
    - `intune_noncompliance_finding`
    - `intune_managed_application`
    - `intune_detected_application`

### Updated

- Updated jupiterone.md documentation.
- Microsoft Graph client to handle individual api calls as well as iterative
  calls.
- The severity of an `unknown` finding from 1 to 4

### Changed

- Azure Active Directory entities and relationships to have a type of `azure_`
  to match [the Azure graph project](https://github.com/JupiterOne/graph-azure)

### Fixed

- Sporadic authentication bug with Microsoft Graph sdk.

## 1.0.1 - 2020-02-10

### Updated

- Updated documentation.

## 1.0.0 - 2020-02-05

Initial beta release.

## 0.0.0 - 2020-01-25

Initial commit.
